local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local gui = Instance.new("ScreenGui")
local frame = Instance.new("Frame")
local espToggle = Instance.new("TextButton")
local pingLabel = Instance.new("TextLabel")
local fpsLabel = Instance.new("TextLabel")
local resolutionLabel = Instance.new("TextLabel")
local copyButton = Instance.new("TextButton")
local espEnabled = false
local playersESP = {}

-- Configurações da GUI
gui.Parent = player.PlayerGui

frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
frame.Parent = gui

-- Botão de Toggle ESP
espToggle.Size = UDim2.new(0, 280, 0, 50)
espToggle.Position = UDim2.new(0, 10, 0, 10)
espToggle.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
espToggle.Text = "Toggle ESP"
espToggle.Parent = frame

-- Labels para Ping, FPS e Resolução
pingLabel.Size = UDim2.new(0, 280, 0, 50)
pingLabel.Position = UDim2.new(0, 10, 0, 70)
pingLabel.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
pingLabel.TextColor3 = Color3.new(1, 1, 1)
pingLabel.Text = "Ping: " .. game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValueString()
pingLabel.Parent = frame

fpsLabel.Size = UDim2.new(0, 280, 0, 50)
fpsLabel.Position = UDim2.new(0, 10, 0, 130)
fpsLabel.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
fpsLabel.TextColor3 = Color3.new(1, 1, 1)
fpsLabel.Text = "FPS: " .. math.floor(1 / game:GetService("RunService").RenderStepped:Wait())
fpsLabel.Parent = frame

resolutionLabel.Size = UDim2.new(0, 280, 0, 50)
resolutionLabel.Position = UDim2.new(0, 10, 0, 190)
resolutionLabel.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
resolutionLabel.TextColor3 = Color3.new(1, 1, 1)
resolutionLabel.Text = "Resolução: " .. tostring(workspace.CurrentCamera.ViewportSize)
resolutionLabel.Parent = frame

-- Função para copiar o nickname
copyButton.Size = UDim2.new(0, 280, 0, 50)
copyButton.Position = UDim2.new(0, 10, 0, 250)
copyButton.BackgroundColor3 = Color3.fromRGB(0, 170, 170)
copyButton.Text = "Copiar Nickname"
copyButton.Parent = frame
copyButton.Visible = false

local function toggleESP()
	espEnabled = not espEnabled
	for _, v in pairs(playersESP) do
		v:Destroy()
	end
	playersESP = {}
	if espEnabled then
		for _, v in pairs(game.Players:GetPlayers()) do
			if v ~= player then
				local espBox = Instance.new("BoxHandleAdornment")
				espBox.Size = Vector3.new(2, 2, 2)
				espBox.Color3 = Color3.fromRGB(255, 255, 0)
				espBox.Adornee = v.Character:WaitForChild("HumanoidRootPart")
				espBox.AlwaysOnTop = true
				espBox.Parent = v.Character.HumanoidRootPart
				playersESP[v] = espBox
			end
		end
	end
end

espToggle.MouseButton1Click:Connect(function()
	toggleESP()
end)

mouse.Button1Down:Connect(function()
	local target = mouse.Target
	if target and target.Parent:FindFirstChild("Humanoid") then
		local targetPlayer = game.Players:GetPlayerFromCharacter(target.Parent)
		if targetPlayer then
			copyButton.Visible = true
			copyButton.Text = "Copiar: " .. targetPlayer.Name
			copyButton.MouseButton1Click:Connect(function()
				setclipboard(targetPlayer.Name)
				copyButton.Text = "Copiado!"
				wait(2)
				copyButton.Text = "Copiar Nickname"
				copyButton.Visible = false
			end)
		end
	end
end)

-- Atualiza o ping e FPS a cada segundo
while true do
	wait(1)
	pingLabel.Text = "Ping: " .. game:GetService("Stats").Network.ServerStatsItem["Data Ping"]:GetValueString()
	fpsLabel.Text = "FPS: " .. math.floor(1 / game:GetService("RunService").RenderStepped:Wait())
	resolutionLabel.Text = "Resolução: " .. tostring(workspace.CurrentCamera.ViewportSize)
end


