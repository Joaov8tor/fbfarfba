-- Script Hub para Roblox com funcionalidades úteis
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local RunService = game:GetService("RunService")

-- Criar a GUI principal
local screenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -200)
mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
mainFrame.Visible = false -- Inicia invisível

-- Toggle do painel
local toggleButton = Instance.new("TextButton", screenGui)
toggleButton.Size = UDim2.new(0, 100, 0, 50)
toggleButton.Position = UDim2.new(0.5, -50, 0, 0)
toggleButton.Text = "Abrir Painel"
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
toggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)

local function togglePanel()
    mainFrame.Visible = not mainFrame.Visible
end

toggleButton.MouseButton1Click:Connect(togglePanel)

-- Criar a TextBox para mostrar o nickname
local textbox = Instance.new("TextBox", mainFrame)
textbox.Size = UDim2.new(0, 200, 0, 50)
textbox.Position = UDim2.new(0.5, -100, 0.1, 10) -- Centralizado na parte superior
textbox.Text = "Nickname"
textbox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
textbox.TextColor3 = Color3.fromRGB(0, 0, 0)
textbox.ClearTextOnFocus = false

-- Função para adicionar ESP a um jogador
local function addESP(player)
    if player.Character then
        local highlight = Instance.new("Highlight", player.Character)
        highlight.FillColor = Color3.fromRGB(255, 255, 0)  -- Cor amarela
        highlight.OutlineColor = Color3.fromRGB(0, 0, 0)  -- Cor do contorno
        highlight.Adornee = player.Character

        -- Conectar o clique do mouse ao jogador
        highlight.MouseClick:Connect(function()
            textbox.Text = player.Name  -- Define o nome do jogador na TextBox
            setclipboard(player.Name) -- Copia o nome do jogador para a área de transferência
        end)
    end
end

-- Conectando a adição de ESP a jogadores que entram no jogo
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        addESP(player)
    end)
end)

-- Adicionando ESP a jogadores já presentes
for _, player in pairs(Players:GetPlayers()) do
    addESP(player)
end

-- Funções de ping, FPS e resolução
local pingLabel = Instance.new("TextLabel", mainFrame)
pingLabel.Size = UDim2.new(0, 200, 0, 50)
pingLabel.Position = UDim2.new(0.5, -100, 0.3, 10) -- Abaixo da TextBox
pingLabel.Text = "Ping: "
pingLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
pingLabel.TextColor3 = Color3.fromRGB(0, 0, 0)

local fpsLabel = Instance.new("TextLabel", mainFrame)
fpsLabel.Size = UDim2.new(0, 200, 0, 50)
fpsLabel.Position = UDim2.new(0.5, -100, 0.4, 10) -- Abaixo do ping
fpsLabel.Text = "FPS: "
fpsLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
fpsLabel.TextColor3 = Color3.fromRGB(0, 0, 0)

local resolutionLabel = Instance.new("TextLabel", mainFrame)
resolutionLabel.Size = UDim2.new(0, 200, 0, 50)
resolutionLabel.Position = UDim2.new(0.5, -100, 0.5, 10) -- Abaixo do FPS
resolutionLabel.Text = "Resolução: " .. tostring(workspace.CurrentCamera.ViewportSize)
resolutionLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
resolutionLabel.TextColor3 = Color3.fromRGB(0, 0, 0)

-- Atualiza os valores de ping e FPS
RunService.RenderStepped:Connect(function()
    local ping = LocalPlayer:GetNetworkPing()  -- Obtém o ping
    local fps = math.floor(1 / RunService.Heartbeat:Wait())  -- Calcula FPS
    pingLabel.Text = "Ping: " .. ping .. " ms"
    fpsLabel.Text = "FPS: " .. fps
end)


